<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pannello Gestore</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<header>
    <h1>Pannello Gestione Sistema</h1>
    <a href="/route/logout" id="btn-logout" class="btn btn-inline btn-danger">Esci</a>
</header>

<main>
    <section class="box-sezione" id="gestione-distributori">

        <div class="section-toolbar">
            <h2>Stato distributori</h2>
            <div class="section-actions">
                <a href="aggiungi_distributore.html" class="btn btn-inline">+ Nuovo Distributore</a>
                <button class="btn btn-inline" id="btn-sync-monitor">Sincronizza Monitor</button>
            </div>
        </div>

        <div class="search-toolbar">
            <label for="search-id">Ricerca:</label>
            <input type="text" id="search-id" placeholder="ID, Stato o Locazione">

            <button class="btn btn-inline" id="btn-search">Cerca</button>
            <button class="btn btn-inline btn-secondario" id="btn-all">Mostra tutti</button>
        </div>

        <div class="table-responsive">
            <table class="tabella-gestione">
                <thead>
                <tr>
                    <th>ID Distributore</th>
                    <th>Luogo</th>
                    <th>Stato</th>
                    <th>Azioni</th>
                </tr>
                </thead>
                <tbody id="dist-list"></tbody>
            </table>
        </div>
    </section>

    <section class="box-sezione" id="gestione-addetti">

        <div class="section-toolbar">
            <h2>Manutentori</h2>
            <div class="section-actions">
                <a href="aggiungi_manutentore.html" class="btn btn-inline">+ Nuovo Manutentore</a>
            </div>
        </div>

        <div class="table-responsive">
            <table class="tabella-gestione" id="man-table">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Cognome</th>
                    <th>Email</th>
                    <th>Telefono</th>
                    <th>Azioni</th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </section>

    <div id="modal-stato" class="modal-overlay visually-hidden">
        <div class="modal-box">
            <h3>Modifica Stato Distributore</h3>
            <p>Seleziona il nuovo stato per il distributore <strong id="modal-dist-id">---</strong></p>

            <div class="modal-buttons">
                <button class="btn" onclick="changeStatus('ATTIVO')" style="background-color: #28a745;">ATTIVO</button>
                <button class="btn" onclick="changeStatus('MANUTENZIONE')" style="background-color: #ffc107; color:#333;">MANUTENZIONE</button>
                <button class="btn" onclick="changeStatus('GUASTO')" style="background-color: #dc3545;">GUASTO</button>
            </div>

            <button class="btn btn-secondario" onclick="closeModal()" style="margin-top: 1rem;">Annulla</button>
        </div>
    </div>
</main>

<footer><p>Â© 2025 Coffee Capp UniPA</p></footer>

<script src="../js/apiHelpers.js"></script>
<script src="../js/manager.main.js"></script>
</body>
</html>