<!-- /distributore/index.html -->
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distributore Caffè</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<header aria-labelledby="distributore-heading">
    <h1 id="distributore-heading">Distributore Automatico UniPA</h1>

    <!-- AZIONI (coerenti con stile: btn + btn-secondario) -->
    <div style="margin-top: 10px; display:flex; gap:10px; flex-wrap:wrap;">
        <a id="btn-back-customer" class="btn btn-secondario" href="/cliente/index.html">Torna all'area cliente</a>
        <button id="btn-disconnect-from-dist" type="button" class="btn btn-secondario" style="display:none;">
            Scollegati
        </button>
    </div>
</header>

<main>
    <section id="distributor-screen" class="box-sezione" aria-labelledby="dist-header">

        <h3 id="dist-header">Schermo distributore</h3>

        <div class="dist-info">
            <p>Utente connesso: <strong id="dist-username">-</strong></p>
            <p>Credito: <strong id="dist-credit" data-value="0">0.00 €</strong></p>
        </div>

        <form id="purchase-area" style="display:none;" aria-hidden="true">

            <fieldset>
                <legend class="grid-label">Bevanda:</legend>
                <div id="drink-grid">
                    <!-- popolata da JS via /api/distributor/beverages -->
                </div>
            </fieldset>

            <label for="sugar-qty">Zucchero:</label>
            <div class="range-wrapper">
                <input type="range" id="sugar-qty" name="sugar" min="0" max="5" value="1"
                       aria-label="Quantità zucchero"
                       oninput="this.nextElementSibling.value = this.value">
                <output>1</output>
            </div>

            <button id="btn-purchase" type="button" class="btn">Eroga</button>
        </form>

        <div id="dist-message" role="status" aria-live="polite" class="visually-hidden" data-type="info"></div>
    </section>

    <noscript>
        <div class="noscript-warning">Attenzione: lo script è disabilitato. Alcune funzionalità non saranno disponibili.</div>
    </noscript>
</main>

<footer>
    <p>Coffee Capp UniPA - Schermo Distributore</p>
</footer>

<script defer src="../js/apiHelpers.js"></script>
<script defer src="../js/distributor.poll.js"></script>

</body>
</html>
